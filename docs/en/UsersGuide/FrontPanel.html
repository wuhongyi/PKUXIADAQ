

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Front Panel &mdash; GDDAQ beta 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Logic" href="Logic.html" />
    <link rel="prev" title="MakeEvent" href="MakeEvent.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> GDDAQ
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Install</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL.html">Installation of Software</a></li>
</ul>
<p class="caption"><span class="caption-text">Users Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Crate.html">Crate</a></li>
<li class="toctree-l1"><a class="reference internal" href="FIRMWARE.html">FIRMWARE</a></li>
<li class="toctree-l1"><a class="reference internal" href="Decode.html">Decode</a></li>
<li class="toctree-l1"><a class="reference internal" href="GUI.html">GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="NOGUI.html">NOGUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="OnlineStattics.html">Online Stattics</a></li>
<li class="toctree-l1"><a class="reference internal" href="MakeEvent.html">MakeEvent</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Front Panel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#analog-signal-input-connectors-all-revisions">Analog Signal Input Connectors(all revisions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lvds-i-o-port-all-revisions">LVDS I/O Port (all revisions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#digital-i-o-connectors-rev-f-only">Digital I/O Connectors(Rev. F only)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#front-panel-leds-all-revisions">Front Panel LEDs (all revisions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v-i-o-connector-rev-d-only">3.3V I/O Connector(Rev. D only)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gate-inputs-rev-d-only">GATE Inputs(Rev. D only)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v-i-o-connector-rev-b-and-c-only">3.3V I/O Connector(Rev. B and C only)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#digital-signals-in-standard-firmware-all-revisions">Digital Signals in Standard Firmware(all revisions)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Logic.html">Logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="MultipleModulesSynchronously.html">Multiple Modules Synchronously</a></li>
<li class="toctree-l1"><a class="reference internal" href="UpdateCPLD.html">Update CPLD</a></li>
</ul>
<p class="caption"><span class="caption-text">Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Example/README.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/TOF2TAC.html">TOF measurement in 100M</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/TimeResolution.html">Time Resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/RecommendedParameters.html">Recommended Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/InBeamGammaCIAE.html">In Beam Gamma</a></li>
</ul>
<p class="caption"><span class="caption-text">Programmers Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammersGuide/README.html">Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammersGuide/XIAAPI.html">XIA API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammersGuide/PKUCode.html">PKU Code</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GDDAQ</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Front Panel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/UsersGuide/FrontPanel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="front-panel">
<h1>Front Panel<a class="headerlink" href="#front-panel" title="永久链接至标题">¶</a></h1>
<p>On the front panel of each Pixie-16 module, there are 16 analog signal input connectors, one LVDS I/O port, five digital I/O connectors as well as three LEDs near the bottom of the front panel. In addition, a sticker showing Pixie-16 model number (e.g., P16L-250-14, meaning the 14-bit, 250 MHz variant of the Pixie-16) is affixed to the top handle of the front panel, and another sticker indicating the serial number of the Pixie-16 module (e.g., S/N 1100) is placed at the bottom handle of the front panel.</p>
<div class="section" id="analog-signal-input-connectors-all-revisions">
<h2>Analog Signal Input Connectors(all revisions)<a class="headerlink" href="#analog-signal-input-connectors-all-revisions" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>Connector Labels</dt><dd><ul>
<li><p>0 to 15 for 16 channels</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Connector Type</dt><dd><ul>
<li><p>SMB Jack</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Each Pixie-16 module accepts 16 analog input signals, and each input connector is a SMB Jack (male contact) connector.</p>
</div>
<div class="section" id="lvds-i-o-port-all-revisions">
<h2>LVDS I/O Port (all revisions)<a class="headerlink" href="#lvds-i-o-port-all-revisions" title="永久链接至标题">¶</a></h2>
<img alt="../_images/lvdsioport.png" src="../_images/lvdsioport.png" />
<p>Each Pixie-16 module is equipped with one LVDS I/O port on its front panel. LVDS stands for low voltage differential signaling. The LVDS I/O connector is a RJ45 connector, which implies that the same Cat 5 or Cat 6 Ethernet cables can be used to connect signals to or from this I/O port. However, no Ethernet connectivity is available through this Pixie-16 I/O port.</p>
<p>Four differential signal pairs, i.e., between pin-pairs <span class="math notranslate nohighlight">\(Fo_{1p}\)</span> / <span class="math notranslate nohighlight">\(Fo_{1n}\)</span>, <span class="math notranslate nohighlight">\(Fi_{1p}\)</span> / <span class="math notranslate nohighlight">\(Fi_{1n}\)</span>, <span class="math notranslate nohighlight">\(Fi_{5p}\)</span> / <span class="math notranslate nohighlight">\(Fi_{5n}\)</span>, and <span class="math notranslate nohighlight">\(Fo_{5p}\)</span> / <span class="math notranslate nohighlight">\(Fo_{5n}\)</span>, are available from this I/O port. Each pair can be configured as either an input or output signal.</p>
</div>
<div class="section" id="digital-i-o-connectors-rev-f-only">
<h2>Digital I/O Connectors(Rev. F only)<a class="headerlink" href="#digital-i-o-connectors-rev-f-only" title="永久链接至标题">¶</a></h2>
<img alt="../_images/digitalioconnectorsabcdande.png" src="../_images/digitalioconnectorsabcdande.png" />
<p>The Pixie-16 Rev. F modules are equipped with five har-link connectors on its front panel which act as digital I/O connectors. The 2mm pitch har-link connector from HARTING is designed for high speed data transfer with rates up to 2 Gbit/s. Its EMI shielding, shown in Figure <em>2mm pitch har-link connector from HARTING</em>, guarantees excellent performance in EM-polluted environment.</p>
<img alt="../_images/2mmpitchharlinkconnectorfromharting.png" src="../_images/2mmpitchharlinkconnectorfromharting.png" />
<p>Each har-link connector has 2 rows with 5 pins on each row, and is labelled using one of the five letters in red color font, from A to E. The signals connected to each pin of these five connectors are shown in Table <em>Rev. F Module’s Digital I/O Connectors</em>.</p>
<img alt="../_images/revfmoduledigitalioconnectors.png" src="../_images/revfmoduledigitalioconnectors.png" />
<p>Among them, FI0, FI2, FI3, FI4, FI6, FI7 are six TTL digital input signals. They can be signals like global fast trigger, global validation trigger,external clock, run inhibit, etc. The specific usage of each input pin is determined by the specific firmware that is downloaded to the Pixie-16 module (see Table 1-9 for input signals supported by the standard firmware). The six digital output signals, FO0, FO2, FO3, FO4, FO6, FO7, which are connected to six test output pins on the System FPGA of the Pixie-16, can be used to assist a user in the process of system setup. These test pins are connected to various internal signals of the Pixie-16 to provide insight of the current status of the system.</p>
<p>The Channel Gate Inputs (0-15 for 16 channels) are LVDS format input signals which independently gate the data acquisition of each of the 16 channels of a Pixie-16 module.</p>
<p>The Channel Gate signal is level sensitive signal, i.e., when the level of the Channel Gate Signal is logic high(1), the gate signal is effective; when the level of the Channel Gate Signal is logic low(0), the gate signal is not in use. In normal cases, the Channel Gate Signal is set up to veto the data acquisition in a given channel, i.e., at the time of the arrival of fast trigger in that channel, if the Channel Gate Signal is logic high(1), that fast trigger is discarded since it is vetoed. However, this type of logic can be reversed through setting corresponding registers in the FPGA via software. In such cases, the Channel Gate Signal is set up to validate the data acquisition in a given channel, i.e., at the time of fast trigger in that channel, only if the Channel Gate Signal is logic high(1) will that fast trigger be accepted to have the event recorded.</p>
<p>The Module Gate Input is a LVDS format signal that gates the data acquisition in all 16 channels of a Pixie-16 module. It is also a level sensitive signal, i.e., when the level of the Module Gate Signal is logic high(1), the gate signal is effective; when the level of the Module Gate Signal is logic low(0), the gate signal is not in use. In normal cases, the Module Gate Signal is set up to veto the data acquisition in all 16 channels, i.e., at the time of the arrival of fast trigger in any of the 16 channels, if the Module Gate Signal is logic high(1), that fast trigger of that channel is discarded since it is vetoed. However, this type of logic can be reversed through setting corresponding registers in the FPGA via software.</p>
<p>In such cases, the Module Gate Signal is set up to validate the data acquisition in all 16 channels, i.e., at the time of fast trigger in any of the 16 channel, only if the Module Gate Signal is logic high(1) will that fast trigger of that channel be accepted to have the event recorded.</p>
<p>The Spare Gate Input is a LVDS format signal that is reserved for special applications.</p>
<p>Such applications typically require development of custom firmware to support special functionalities of the Pixie-16 system.</p>
<img alt="../_images/frontpanel_pku.png" src="../_images/frontpanel_pku.png" />
</div>
<div class="section" id="front-panel-leds-all-revisions">
<h2>Front Panel LEDs (all revisions)<a class="headerlink" href="#front-panel-leds-all-revisions" title="永久链接至标题">¶</a></h2>
<p>Near the bottom of the Pixie-16 front panel, there are three LEDs. They are labelled as RUN, I/O, and ERR, respectively, from left to right. They correspond to three different colors, <strong>green, yellow, and red</strong>, respectively.</p>
<img alt="../_images/frontpanelledsforthepixie16modules.png" src="../_images/frontpanelledsforthepixie16modules.png" />
<p>The <strong>RUN LED</strong> will be turned on when a run in the Pixie-16 module is in progress, and will be turned off when the run is stopped or not started yet.</p>
<p>The <strong>I/O LED</strong> will blink when there is I/O activity on the PCI bus between the Pixie-16 module and host computer.</p>
<p>The <strong>ERR LED</strong> is, in fact, not to signal any error condition in the Pixie-16 module. Instead, it is used to indicate whether or not the External FIFO of the Pixie-16 module is full. It will be ON when there is no more space in the External FIFO for storage of list mode event data, and OFF when there is sufficient space to store at least one more list mode event data. When the External FIFO is full, no more list mode event data can be written into it until the host software reads out part of the data in the External FIFO through the PCI bus.</p>
</div>
<div class="section" id="v-i-o-connector-rev-d-only">
<h2>3.3V I/O Connector(Rev. D only)<a class="headerlink" href="#v-i-o-connector-rev-d-only" title="永久链接至标题">¶</a></h2>
<img alt="../_images/revdmodules33vioconnector.png" src="../_images/revdmodules33vioconnector.png" />
<p>On Rev. D Pixie-16 modules, between analog input SMB connectors for channel 7 and channel 8, respectively, is the 3.3V I/O Connector(J200). It has 10 single-ended pins with 2mm spacing. Pins #1, 3, 4, 5, 6, and 8 are connected to six digital output signals from the System FPGA of the Pixie-16 module, i.e. FO0, FO2, FO3, FO4, FO6, FO7, mainly for the purpose of testing and debugging. Pins #2 and 7 are ground pins, and pins #9 and 10 are not in use.</p>
</div>
<div class="section" id="gate-inputs-rev-d-only">
<h2>GATE Inputs(Rev. D only)<a class="headerlink" href="#gate-inputs-rev-d-only" title="永久链接至标题">¶</a></h2>
<img alt="../_images/revdmodulesgateinputs.png" src="../_images/revdmodulesgateinputs.png" />
<p>On Rev. D Pixie-16 modules, between analog input SMB connectors for channel 11 and channel 12, respectively, is the GATE INPUTS connector. This connector is an Amphenol FCI 55 Position Header with 2mm pin spacing. The layout of these 55 pins is shown in Figure <em>Rev. D Module’s GATE INPUTS Connector</em>. The 11 pins from the middle pin column (J150C) are all tied to the Ground. Among the first 8 rows of the GATE INPUTS connector, each differential pair of pins from the A/B columns(J150A/J150B) or the D/E columns (J150D/J150E) corresponds to one channel’s GATE INPUT, which has the LVDS format, e.g. Gxin+/Gxin-(x=0-15). Differential pair of pins at J150A3/J150B3 is the Module Gate Input signal, MGin+/MGin-. Channel Gate Input signal can be used to veto or validate that given channel’s own trigger. Module Gate Input signal works on the whole module level, i.e. it can be used to veto or validate all 16 channels’ own trigger of that given module. Differential pair of pins at J150D3/J150E3 is the Spare Gate Input signal, SGin+/SGin-. Spare Gate Input signal can be used for special applications which require a custom firmware.</p>
<img alt="../_images/revdmodulesgateinputsconnector.png" src="../_images/revdmodulesgateinputsconnector.png" />
<p>On Rev. D Pixie-16 modules, the TTL digital input signals (max. 5V), i.e. FI0, FI2, FI3, FI4, FI6, FI7, are distributed among the bottom two rows of the GATE INPUTS Connector, as illustrated in Figure <em>Rev. D Module’s GATE INPUTS Connector</em>.</p>
</div>
<div class="section" id="v-i-o-connector-rev-b-and-c-only">
<h2>3.3V I/O Connector(Rev. B and C only)<a class="headerlink" href="#v-i-o-connector-rev-b-and-c-only" title="永久链接至标题">¶</a></h2>
<img alt="../_images/revbandcmodules33vioconnector.png" src="../_images/revbandcmodules33vioconnector.png" />
<p>On Rev. B and C Pixie-16 modules, between analog input SMB connectors for channel 11 and channel 12, respectively, is the 3.3V I/O Connector(J100). It has 16 single-ended pins with 2mm spacing. Pins #1, 3, 4, 5, 6, and 8 are connected to six digital output signals from the System FPGA of the Pixie-16 module, i.e. FO0, FO2, FO3, FO4, FO6, FO7, mainly for the purpose of testing and debugging. Pins #2, 7, 10 and 15 are ground pins. Pins #9, 11, 12, 13, 14 and 16 are connected to the six TTL digital input signals (max. 5V), i.e. FI0, FI2, FI3, FI4, FI6, FI7.</p>
</div>
<div class="section" id="digital-signals-in-standard-firmware-all-revisions">
<h2>Digital Signals in Standard Firmware(all revisions)<a class="headerlink" href="#digital-signals-in-standard-firmware-all-revisions" title="永久链接至标题">¶</a></h2>
<p>The standard firmware of the Pixie-16 supports input and output of digital signals through its front panel I/O connectors, which were discussed earlier.</p>
<img alt="../_images/ttldigitalinputsignals.png" src="../_images/ttldigitalinputsignals.png" />
<p>Table <em>TTL Digital Input Signals</em> shows the five TTL digital input signals supported by the Pixie-16 standard firmware.</p>
<p>Among them, the signals <strong>EXT_TS_CLK</strong> and <strong>EXT_TS_CLR</strong> are used for external timestamping in the Pixie-16, i.e. the Pixie-16 accepting an external clock signal(the frequency of this external clock is not recommended to exceed about 20 MHz in order to avoid the clock signal integrity issue), counting such clock signal with a 48-bit counter, and outputting such counter value to the list mode data stream when an event trigger occurs.</p>
<p>The external timestamping is useful for synchronizing the Pixie-16 data acquisition system with another data acquisition system through correlating the external timestamps of the events recorded by both systems.</p>
<p>The <strong>INHIBIT</strong> signal is used by an external system to inhibit the data acquisition run in a Pixie-16 system when synchronization requirement is enabled in the Pixie-16 modules. It is a level sensitive signal, i.e. when the <strong>INHIBIT</strong> signal is at the logic high level, the run in the Pixie-16 won’t start. Only when the <strong>INHIBIT</strong> signal goes to the logic low level will the run start in the Pixie-16. During the run, if the <strong>INHIBIT</strong> signal returns to the logic high level, the run will be aborted.</p>
<p>The <strong>EXT_FASTTRIG</strong> signal is the external fast trigger signal, which can be used to replace the local fast trigger for recording events in the Pixie-16 modules. The <strong>EXT_VALIDTRIG</strong> signal is the external validation signal, which can be used to validate events in the Pixie-16 modules.</p>
<img alt="../_images/connectorj101lvdsioportsignals.png" src="../_images/connectorj101lvdsioportsignals.png" />
<p>Table <em>Connector J101 LVDS I/O Port Signals</em> shows the Pixie-16 connector J101 LVDS I/O port signals. This J101 LVDS I/O port can use the regular Ethernet cable for connection but it does not have Ethernet connectivity. Among the four LVDS pairs available from this J101 port, one pair is currently not in use, two pairs are used for input and one pair is used for output. The <strong>LVDS_VALIDTRIG</strong> is the external validation trigger signal in LVDS format, and the <strong>LVDS_FASTTRIG</strong> is the external fast trigger signal in LVDS format. The <strong>SYNC_LVDS_FP</strong> is an output signal from the Pixie-16 module to indicate to external data acquisition systems the synchronization status of the Pixie-16 system so that both data acquisition systems can be synchronized.</p>
<img alt="../_images/ttldigitaloutputsignals.png" src="../_images/ttldigitaloutputsignals.png" />
<p>Table <em>TTL Digital Output Signals</em> lists the six Pixie-16 TTL digital output signals. Two groups of six output signals can be chosen through software settings (see bits [14:12] and [19:16] of TrigConfig0). The last output signal TEST_SEL can be further selected through software settings. More details about these signals will be provided in later sections of this manual.</p>
<hr class="docutils" />
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Logic.html" class="btn btn-neutral float-right" title="Logic" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="MakeEvent.html" class="btn btn-neutral float-left" title="MakeEvent" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Hongyi Wu(吴鸿毅)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>