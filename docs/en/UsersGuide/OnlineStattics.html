<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Online Stattics &mdash; GDDAQ V20241025 文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b0a50035"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../_static/translations.js?v=beaddf03"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="数据解码" href="DecodeAndSortAll.html" />
    <link rel="prev" title="NOGUI" href="NOGUI.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            GDDAQ
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Install</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL.html">Installation of ROOT GUI Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MYSQL.html">MYSQL</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Users Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Crate.html">Crate</a></li>
<li class="toctree-l1"><a class="reference internal" href="FIRMWARE.html">FIRMWARE</a></li>
<li class="toctree-l1"><a class="reference internal" href="GUIqt.html">Qt GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="GUI.html">ROOT GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="NOGUI.html">NOGUI</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Online Stattics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#root-based-graphical-interface">ROOT-based graphical interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#web-based-graphical-interface">Web-based graphical interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="DecodeAndSortAll.html">数据解码</a></li>
<li class="toctree-l1"><a class="reference internal" href="EventBuilder.html">事件重构</a></li>
<li class="toctree-l1"><a class="reference internal" href="Decode.html">Decode</a></li>
<li class="toctree-l1"><a class="reference internal" href="MakeEvent.html">MakeEvent</a></li>
<li class="toctree-l1"><a class="reference internal" href="FrontPanel.html">Front Panel</a></li>
<li class="toctree-l1"><a class="reference internal" href="Logic.html">Logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="MultipleModulesSynchronously.html">Multiple Modules Synchronously</a></li>
<li class="toctree-l1"><a class="reference internal" href="UpdateCPLD.html">Update CPLD</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Example/README.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/TOF2TAC.html">TOF measurement in 100M</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/TimeResolution.html">Time Resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/RecommendedParameters.html">Recommended Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Example/InBeamGammaCIAE.html">In Beam Gamma</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programmers Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammersGuide/README.html">Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammersGuide/XIAAPI.html">PIXIE-16 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ProgrammersGuide/PKUCode.html">PKU Code</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GDDAQ</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Online Stattics</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/UsersGuide/OnlineStattics.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="online-stattics">
<h1>Online Stattics<a class="headerlink" href="#online-stattics" title="此标题的永久链接"></a></h1>
<section id="root-based-graphical-interface">
<h2>ROOT-based graphical interface<a class="headerlink" href="#root-based-graphical-interface" title="此标题的永久链接"></a></h2>
<p>Open the online monitoring main interface by executing the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./online
</pre></div>
</div>
<p>click <strong>RunStart</strong> to enable online monitoring, and online monitoring will be refreshed every 3 seconds. The trigger rate of each channel and the actual event output rate of each channel can be monitored in real time.</p>
<p>The monitoring interface is as follows:</p>
<img alt="../_images/OnlineMainFrame.png" src="../_images/OnlineMainFrame.png" />
<p>In the “Alert” interface, users can set the upper limit and lower limit of the trigger rate of each channel. When the trigger rate is lower than the set lower limit or higher than the set upper limit, the value of the channel will turn blue and red.</p>
<p>In the “EnergyMonitor” interface, users can browse the energy spectrum of each channel.</p>
</section>
<section id="web-based-graphical-interface">
<h2>Web-based graphical interface<a class="headerlink" href="#web-based-graphical-interface" title="此标题的永久链接"></a></h2>
<p><strong>The premise of using this web program is to install the MYSQL database. For how to install and set up the database, please check the corresponding chapter.</strong></p>
<img alt="../_images/webOnlineMainFrame.png" src="../_images/webOnlineMainFrame.png" />
<p>There are two subdirectories under the <em>mysql</em> directory, respectively <em>createdb</em> and <em>online</em>.</p>
<p><strong>createdb</strong></p>
<p>Modify the database parameters in the <em>mysql/createdb/UserDefine.hh</em> file. The information includes the IP of the database, and the user name and password for creating the database.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define HOST_NAME    &quot;222.29.111.140&quot;</span>
<span class="cp">#define USER_NAME    &quot;admin&quot;</span>
<span class="cp">#define USER_PASSWD  &quot;xia17pxn&quot;</span>
</pre></div>
</div>
<p>Then run the following command to compile the program:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>mysql/createdb
make<span class="w"> </span>clean
make
</pre></div>
</div>
<p>Compilation will generate the executable file <em>createdb</em>. Executing the program will create the database and the corresponding tables. <strong>It should be noted that each time the program is executed, the original database will be deleted and then re-created.</strong></p>
<p><strong>online</strong></p>
<p>Modify the database parameters in the <em>mysql/online/UserDefine.hh</em> file. The information includes the IP of the database, and a user name and password that has permissions to write and update the database.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#define HOST_NAME    &quot;222.29.111.140&quot;</span>
<span class="cp">#define USER_NAME    &quot;data&quot;</span>
<span class="cp">#define USER_PASSWD  &quot;xia17pxn&quot;</span>
</pre></div>
</div>
<p>Then run the following command to compile the program:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>mysql/online
make<span class="w"> </span>clean
make
</pre></div>
</div>
<p>Compilation will generate an executable file <em>onlinedb</em>, execute the program, and periodically read the data in shared memory and write it to the database. <strong>This program needs to run at all times.</strong></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="NOGUI.html" class="btn btn-neutral float-left" title="NOGUI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="DecodeAndSortAll.html" class="btn btn-neutral float-right" title="数据解码" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2020, Hongyi Wu(吴鸿毅)。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>